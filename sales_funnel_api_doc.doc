# Документация по API воронки продаж (Sales Funnel)

## Lead (Лид)

### Получить список лидов
GET /api/leads/
Ответ:
[
  {
    "id": 1,
    "name": "Лид 1",
    "contact": "example@mail.com",
    "varonka": 2,
    "current_task": 5,
    "is_done": false
  }
]

### Создать нового лида
POST /api/leads/
Тело запроса:
{
  "name": "Лид 2",
  "contact": "contact@mail.com",
  "varonka": 1,
  "current_task": 3,
  "is_done": false
}

### Получить детали лида
GET /api/leads/{id}/

### Обновить лида
PUT/PATCH /api/leads/{id}/

---

## Varonka (Воронка)

### Получить список всех воронок
GET /api/varonkas/
Ответ:
[
  {
    "id": 1,
    "name": "Воронка продаж",
    "description": "Описание этапов"
  }
]

---

## VaronkaTask (Этап воронки)

### Получить список этапов для конкретной воронки
GET /api/varonkas/{varonka_id}/tasks/
Ответ:
[
  {
    "id": 5,
    "varonka": 1,
    "name": "Первый контакт",
    "order": 1
  }
]

---

### Примечания:
- Все поля id — числовые.
- Для создания/обновления лида используйте id существующей воронки и этапа.
- Для получения этапов конкретной воронки используйте её id.
